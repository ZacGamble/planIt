var he=Object.defineProperty;var X=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var ee=(s,e,a)=>e in s?he(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,U=(s,e)=>{for(var a in e||(e={}))ye.call(e,a)&&ee(s,a,e[a]);if(X)for(var a of X(e))ke.call(e,a)&&ee(s,a,e[a]);return s};import{r as we,c as p,a as k,o as l,b as d,d as o,e as T,F as O,f as xe,S as te,g as S,u as z,M as R,w as h,v as w,h as C,p as I,i as P,j as $,k as ae,t as v,l as je,m as Te,n as Se,q as H,s as Ce,x as E,y as A,z as B,A as N,B as oe,C as D,D as W,E as K,O as Ie,G as Pe,H as Ee}from"./vendor.eee2fd9a.js";const Ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};Ne();const c=we({user:{},account:{},activeProject:null,projects:[],sprints:[],tasks:[],activeTask:null,notes:[],editingTask:!1});var f=(s,e)=>{for(const[a,t]of e)s[a]=t;return s};const Oe={name:"App",setup(){return{appState:p(()=>c)}}},$e={class:"d-flex flex-column"};function Ae(s,e,a,t,r,i){const n=k("Navbar"),u=k("router-view");return l(),d(O,null,[o("header",null,[T(n)]),o("main",$e,[T(u)])],64)}var De=f(Oe,[["render",Ae]]);const se=window.location.origin.includes("localhost"),ne=se?"http://localhost:3000":"",Me="dev--ctam859.us.auth0.com",qe="YgqnjnhO43V4EqDthLJCutJJ8UKlzHHH",Le="https://ZacDev.com";function M(s,e){if(se)console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(s){case"log":case"assert":return}console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const _={log(){M("log",arguments)},error(){M("error",arguments)},warn(){M("warn",arguments)},assert(){M("assert",arguments)},trace(){M("trace",arguments)}},g=xe.create({baseURL:ne,timeout:8e3});class Re{async getProjects(){const e=await g.get("api/projects");c.projects=e.data}async getByProjectId(e){const a=await g.get("api/projects/"+e);c.activeProject=a.data,_.log("The active project",a.data)}clearActive(){c.activeProject=null}async createProject(e){const a=await g.post("api/projects",e);return _.log("Projects Service > create response",a.data),c.projects.unshift(a.data),a.data.id}async deleteProject(e){const a=await g.delete("api/projects/"+e);c.projects=c.projects.filter(t=>t.id!==a.data.id)}}const re=new Re;class m{static async confirm(e="Are you sure?",a="You won't be able to revert this!",t="warning",r="Yes, delete it!"){try{return!!(await te.fire({title:e,text:a,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r})).isConfirmed}catch{return!1}}static toast(e="Warning!",a="warning",t="top-end",r=3e3,i=!0){te.fire({title:e,icon:a,position:t,timer:r,timerProgressBar:i,toast:!0,showConfirmButton:!1})}}const Be={setup(){const s=S({}),e=z();return{newData:s,async createProject(){try{R.getOrCreateInstance(document.getElementById("create-project-modal")).hide();const a=await re.createProject(s.value);m.toast("New Project created","success"),e.push({name:"Project",params:{id:a}}),s.value={}}catch(a){_.error("[Create Project Form > createProject()]",a.message),m.toast(a.message,"error")}}}}},Y=s=>(I("data-v-97e0b9d2"),s=s(),P(),s),Fe={class:"d-flex flex-column"},Ve=Y(()=>o("label",{class:"mt-2",for:"name"},"Name",-1)),Ue=Y(()=>o("label",{class:"mt-2",for:"description"},"Description",-1)),ze=Y(()=>o("div",{class:"modal-footer"},[o("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),o("button",{type:"submit",class:"btn btn-primary"},"Save changes")],-1));function He(s,e,a,t,r,i){return l(),d("div",null,[o("form",{onSubmit:e[2]||(e[2]=C((...n)=>t.createProject&&t.createProject(...n),["prevent"]))},[o("div",Fe,[Ve,h(o("input",{class:"my-2",type:"text",placeholder:"Name...","aria-labelledby":"name","onUpdate:modelValue":e[0]||(e[0]=n=>t.newData.name=n),required:""},null,512),[[w,t.newData.name]]),Ue,h(o("textarea",{class:"my-2",name:"description",placeholder:"Type a description....","onUpdate:modelValue":e[1]||(e[1]=n=>t.newData.description=n),required:""},null,512),[[w,t.newData.description]])]),ze],32)])}var We=f(Be,[["render",He],["__scopeId","data-v-97e0b9d2"]]),Ke=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:We});class Ye{async getByProjectId(e){const a=await g.get("api/projects/"+e+"/sprints");c.sprints=a.data,_.log("[sprints service] > getByProjectId Response",a.data)}clearActive(){c.sprints=[]}async createSprint(e){const a=await g.post("api/projects/"+e.projectId+"/sprints",e);c.sprints.push(a.data)}async deleteSprint(e,a){const t=await g.delete("api/projects/"+a+"/sprints/"+e);return c.sprints=c.sprints.filter(r=>r.id!==t.data.id),t.data}}const ce=new Ye;const Ge={setup(){const s=S({}),e=$();return{newData:s,async createSprint(){try{s.value.projectId=e.params.id,R.getOrCreateInstance(document.getElementById("create-sprint-modal")).hide();const a=await ce.createSprint(s.value);m.toast("New Sprint created","success"),s.value={}}catch(a){_.error("[Create Sprint Form > createSprint()]",a.message),m.toast(a.message,"error")}}}}},ie=s=>(I("data-v-89b0095e"),s=s(),P(),s),Je={class:"d-flex flex-column"},Qe=ie(()=>o("label",{class:"mt-2",for:"name"},"Name",-1)),Ze=ie(()=>o("div",{class:"modal-footer"},[o("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),o("button",{type:"submit",class:"btn btn-primary"},"Save changes")],-1));function Xe(s,e,a,t,r,i){return l(),d("div",null,[o("form",{onSubmit:e[1]||(e[1]=C((...n)=>t.createSprint&&t.createSprint(...n),["prevent"]))},[o("div",Je,[Qe,h(o("input",{class:"my-2",type:"text",placeholder:"Name...","aria-labelledby":"name","onUpdate:modelValue":e[0]||(e[0]=n=>t.newData.name=n),maxlength:"20",required:""},null,512),[[w,t.newData.name]])]),Ze],32)])}var et=f(Ge,[["render",Xe],["__scopeId","data-v-89b0095e"]]),tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et});class at{async getByProjectId(e){const a=await g.get("api/projects/"+e+"/tasks");c.tasks=a.data,_.log("[tasks service] > getByProjectId Response",a.data)}async createTask(e){const a=await g.post("api/projects/"+e.projectId+"/tasks",e);_.log("Tasks service > create task",a.data),c.tasks.push(a.data)}clearActive(){c.tasks=[]}async toggleTask(e,a,t){const r=await g.put("api/projects/"+a+"/tasks/"+e,t);_.log("toggle tasks Response",r.data);const i=c.tasks.findIndex(n=>n.id===r.data.id);c.tasks.splice(i,1,r.data)}async editTask(e){const a=await g.put("/api/projects/"+e.projectId+"/tasks/"+e.id,e);_.log("editTask res",a.data);const t=c.tasks.findIndex(r=>r.id===a.data.id);c.tasks.splice(t,1,a.data),c.activeTask=a.data}async deleteTask(e,a){const t=await g.delete("api/projects/"+a+"/tasks/"+e);c.tasks=c.tasks.filter(r=>r.id!==t.data.id)}}const q=new at,ot={props:{sprintId:{type:String,required:!0}},setup(s){const e=S({}),a=$();return{newData:e,async createTask(){try{e.value.projectId=a.params.id,e.value.sprintId=s.sprintId,R.getOrCreateInstance(document.getElementById("create-task-modal"+s.sprintId)).hide();const t=await q.createTask(e.value);m.toast("New Task created","success"),e.value={}}catch(t){_.error("[Create task Form > createtask()]",t.message),m.toast(t.message,"error")}}}}},st={class:"component"},nt={class:"d-flex flex-column"},rt=o("label",{class:"mt-2",for:"name"},"Name",-1),ct=o("div",{class:"modal-footer"},[o("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),o("button",{type:"submit",class:"btn btn-primary"},"Save changes")],-1);function it(s,e,a,t,r,i){return l(),d("div",st,[o("div",null,[o("form",{onSubmit:e[2]||(e[2]=C((...n)=>t.createTask&&t.createTask(...n),["prevent"]))},[o("div",nt,[rt,h(o("input",{class:"my-2",type:"text",placeholder:"Name...","aria-labelledby":"name","onUpdate:modelValue":e[0]||(e[0]=n=>t.newData.name=n),required:""},null,512),[[w,t.newData.name]]),h(o("input",{type:"number",min:"0",placeholder:"0","onUpdate:modelValue":e[1]||(e[1]=n=>t.newData.weight=n),required:""},null,512),[[w,t.newData.weight]])]),ct],32)])])}var lt=f(ot,[["render",it]]),dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lt});class ut{async getAccount(){try{const e=await g.get("/account");c.account=e.data}catch(e){_.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async editAccount(e){const a=await g.put("account",e);_.log("[Account Service > editAccount()]",a.data),c.account=a.data}}const le=new ut;const _t={setup(){const s=S({}),e=p(()=>c.account);return ae(()=>{s.value=U({},e.value)}),{account:e,edit:s,async editAccount(){try{await le.editAccount(s.value),m.toast("Account edited successfully","success")}catch(a){_.error(a),m.toast(a.message,"error")}}}}},mt=s=>(I("data-v-d0366bce"),s=s(),P(),s),pt={class:"component"},vt={class:"d-flex align-items-center justify-content-center mb-4"},gt=["src"],ft={class:"ms-3"},bt=mt(()=>o("div",{class:"align-self-end d-flex mt-4"},[o("button",{class:"btn btn-danger",type:"button","data-bs-dismiss":"modal"}," Cancel "),o("button",{class:"btn btn-primary mx-3",type:"submit"},"Save")],-1));function ht(s,e,a,t,r,i){return l(),d("div",pt,[o("div",vt,[o("img",{src:t.account.picture,class:"img-clamp border-primary border border-3",alt:"account-picture"},null,8,gt),o("h4",ft,v(t.account.name),1)]),o("form",{onSubmit:e[2]||(e[2]=C((...n)=>t.editAccount&&t.editAccount(...n),["prevent"])),class:"d-flex flex-column align-items-center"},[o("div",null,[h(o("input",{type:"text",name:"name",placeholder:"name...","onUpdate:modelValue":e[0]||(e[0]=n=>t.edit.name=n),required:"",class:"mx-2"},null,512),[[w,t.edit.name]]),h(o("input",{type:"url",name:"picture",placeholder:"picture URL...","onUpdate:modelValue":e[1]||(e[1]=n=>t.edit.picture=n),required:"",class:"mx-2"},null,512),[[w,t.edit.picture]])]),bt],32)])}var yt=f(_t,[["render",ht],["__scopeId","data-v-d0366bce"]]),kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yt});const wt={setup(){return{}}},xt={class:"d-flex h-100 w-100 justify-content-center align-items-center"},jt=je('<div class="position-relative loading" data-v-5d9bac30><div class="circle circle-1" data-v-5d9bac30></div><div class="circle circle-2" data-v-5d9bac30></div><div class="circle circle-3" data-v-5d9bac30></div><div class="circle circle-4" data-v-5d9bac30></div><div class="circle circle-5" data-v-5d9bac30></div><div class="circle circle-6" data-v-5d9bac30></div><div class="circle circle-7" data-v-5d9bac30></div><div class="circle circle-8" data-v-5d9bac30></div></div>',1),Tt=[jt];function St(s,e,a,t,r,i){return l(),d("div",xt,Tt)}var Ct=f(wt,[["render",St],["__scopeId","data-v-5d9bac30"]]),It=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ct});const Pt="modulepreload",de={},Et="/",G=function(e,a){return!a||a.length===0?e():Promise.all(a.map(t=>{if(t=`${Et}${t}`,t in de)return;de[t]=!0;const r=t.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":Pt,r||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),r)return new Promise((u,V)=>{n.addEventListener("load",u),n.addEventListener("error",V)})})).then(()=>e())};function Nt(s){switch(s){case"./pages/AccountPage.vue":return G(()=>import("./AccountPage.b57737b0.js"),["assets/AccountPage.b57737b0.js","assets/AccountPage.f9d03482.css","assets/vendor.eee2fd9a.js"]);case"./pages/HomePage.vue":return G(()=>import("./HomePage.05d7735d.js"),["assets/HomePage.05d7735d.js","assets/HomePage.db0670a2.css","assets/vendor.eee2fd9a.js"]);case"./pages/ProjectPage.vue":return G(()=>import("./ProjectPage.347e3543.js"),["assets/ProjectPage.347e3543.js","assets/ProjectPage.3fd2a621.css","assets/vendor.eee2fd9a.js"]);default:return new Promise(function(e,a){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function F(s){return()=>Nt(`./pages/${s}.vue`)}const Ot=[{path:"/",name:"Home",component:F("HomePage"),beforeEnter:H},{path:"/project/:id",name:"Project",component:F("ProjectPage"),beforeEnter:H},{path:"/about",name:"About",component:F("AboutPage")},{path:"/account",name:"Account",component:F("AccountPage"),beforeEnter:H}],ue=Te({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:Se(),routes:Ot}),$t={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class At{constructor(e=!1,a=ne){}on(e,a){var t;return(t=this.socket)==null||t.on(e,a.bind(this)),this}onConnected(e){_.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){_.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var a;(a=this.socket)==null||a.emit($t.authenticate,e)}onError(e){_.error("[SOCKET_ERROR]",e)}enqueue(e,a){_.log("[ENQUEING_ACTION]",{action:e,payload:a}),this.queue.push({action:e,payload:a})}playback(){_.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(a=>{this.emit(a.action,a.payload)})}emit(e,a=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,a);if(!this.connected)return this.enqueue(e,a);this.socket.emit(e,a)}}class Dt extends At{constructor(){super();this.on("error",this.onError)}onError(e){m.toast(e.message,"error")}}const _e=new Dt,y=Ce({domain:Me,clientId:qe,audience:Le,useRefreshTokens:!0,onRedirectCallback:s=>{ue.push(s&&s.targetUrl?s.targetUrl:window.location.pathname)}});y.on(y.AUTH_EVENTS.AUTHENTICATED,async function(){g.defaults.headers.authorization=y.bearer,g.interceptors.request.use(Mt),c.user=y.user,await le.getAccount(),_e.authenticate(y.bearer),await re.getProjects()});async function Mt(s){if(!y.isAuthenticated)return s;const e=y.identity.exp*1e3,a=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return a?await y.loginWithPopup():t&&(await y.getTokenSilently(),g.defaults.headers.authorization=y.bearer,_e.authenticate(y.bearer)),s}const qt={setup(){return{user:p(()=>c.user),account:p(()=>c.account),async login(){y.loginWithPopup()},async logout(){y.logout({returnTo:window.location.origin})}}}},Lt=s=>(I("data-v-3d0ec476"),s=s(),P(),s),Rt={class:"navbar-text no-select"},Bt={key:1,class:"dropdown my-2 my-lg-0"},Ft={class:"dropdown-toggle selectable me-5","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown",title:"show account options"},Vt={key:0},Ut=["src"],zt={class:"mx-3 text-success lighten-30"},Ht={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},Wt=Lt(()=>o("i",{class:"mdi mdi-logout"},null,-1)),Kt=A(" logout "),Yt=[Wt,Kt];function Gt(s,e,a,t,r,i){return l(),d("span",Rt,[t.user.isAuthenticated?(l(),d("div",Bt,[o("div",Ft,[t.account.picture?(l(),d("div",Vt,[o("img",{src:t.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,Ut),o("span",zt,v(t.account.name),1)])):E("",!0)]),o("div",Ht,[o("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...n)=>t.logout&&t.logout(...n))},Yt)])])):(l(),d("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...n)=>t.login&&t.login(...n)),title:"login"}," Login "))])}var Jt=f(qt,[["render",Gt],["__scopeId","data-v-3d0ec476"]]),Qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jt});const Zt={setup(){return{}}},Xt={class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ea={class:"modal-dialog"},ta={class:"modal-content"},aa={class:"modal-header"},oa=o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),sa={class:"modal-body"};function na(s,e,a,t,r,i){return l(),d("div",Xt,[o("div",ea,[o("div",ta,[o("div",aa,[B(s.$slots,"modal-header-slot"),oa]),o("div",sa,[B(s.$slots,"modal-body-slot")])])])])}var ra=f(Zt,[["render",na]]),ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ra});const ia={setup(){return{}}},J=s=>(I("data-v-4b74b29a"),s=s(),P(),s),la={class:"navbar navbar-expand-lg navbar-dark bg-dark px-3"},da=J(()=>o("div",{class:"d-flex flex-column align-items-center"},[o("h4",{class:"text-secondary-gradient no-select"},[o("i",{class:"mdi mdi-rocket-launch-outline me-1"}),A("PlanIt ")])],-1)),ua=J(()=>o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[o("span",{class:"navbar-toggler-icon"})],-1)),_a={class:"collapse navbar-collapse",id:"navbarText"},ma=J(()=>o("ul",{class:"navbar-nav me-auto"},null,-1));function pa(s,e,a,t,r,i){const n=k("router-link"),u=k("Login");return l(),d("nav",la,[T(n,{class:"navbar-brand d-flex",to:{name:"Home"},title:"go to home page"},{default:N(()=>[da]),_:1}),ua,o("div",_a,[ma,T(u)])])}var va=f(ia,[["render",pa],["__scopeId","data-v-4b74b29a"]]),ga=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:va});class fa{async getByProjectId(e){const a=await g.get("api/projects/"+e+"/notes");c.notes=a.data,_.log("[notes service] > getByProjectId Response",a.data)}async addNote(e){const a=await g.post("api/projects/"+e.projectId+"/notes",e);c.notes.unshift(a.data)}clearActive(){c.notes=[]}async deleteNote(e,a){const t=await g.delete("api/projects/"+a+"/notes/"+e),r=c.notes.findIndex(i=>i.id===t.data.id);c.notes.splice(r,1)}}const me=new fa;const ba={props:{note:{type:Object,required:!0}},setup(s){const e=$();return{accountId:p(()=>c.account.id),projectCreatorId:p(()=>c.activeProject.creatorId),async deleteNote(){try{await m.confirm()&&(await me.deleteNote(s.note.id,e.params.id),m.toast("Note deleted","success"))}catch(a){_.error("[Note.vue > deleteNote()]",a.message),m.toast(a.message,"error")}}}}},ha={class:"border border-primary border-2 rounded p-2 d-flex flex-column mb-3 position-relative"},ya={class:"d-flex align-items-center text-primary"},ka=["src"],wa={class:"my-0 ms-2"},xa={class:"p-1 my-0"};function ja(s,e,a,t,r,i){return l(),d("div",ha,[o("div",ya,[o("img",{src:a.note.creator.picture,alt:"owners picture",class:"rounded-circle img-clamp"},null,8,ka),o("p",wa,v(a.note.creator.name),1)]),o("p",xa,v(a.note.body),1),a.note.creator.id===t.accountId||t.projectCreatorId===t.accountId?(l(),d("i",{key:0,class:"mdi mdi-delete on-hover action text-primary-gradient position-absolute",onClick:e[0]||(e[0]=(...n)=>t.deleteNote&&t.deleteNote(...n))})):E("",!0)])}var Ta=f(ba,[["render",ja],["__scopeId","data-v-3cedb609"]]),Sa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ta});const Ca={},Ia={class:"offcanvas",tabindex:"-1"},Pa={class:"offcanvas-header"},Ea=o("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),Na={class:"offcanvas-body"};function Oa(s,e){return l(),d("div",Ia,[o("div",Pa,[Ea,B(s.$slots,"offcanvas-header-slot")]),o("div",Na,[B(s.$slots,"offcanvas-body-slot")])])}var $a=f(Ca,[["render",Oa]]),Aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$a});const Da={props:{project:{type:Object,required:!0}},setup(s){const e=z();return{changeProject(){e.push({name:"Project",params:{id:s.project.id}})}}}},Ma=["title"];function qa(s,e,a,t,r,i){return l(),d("div",{class:"d-flex justify-content-between selectable no-select","aria-label":"navigate to project",title:"navigate to "+a.project.name+" project",onClick:e[0]||(e[0]=(...n)=>t.changeProject&&t.changeProject(...n))},[o("p",null,v(a.project.name),1),o("p",null,v(a.project.createdAt.substring(0,10)),1)],8,Ma)}var La=f(Da,[["render",qa]]),Ra=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:La});const Ba={props:{project:{type:Object,required:!0}},setup(s){const e=z();return{openProject(){e.push({name:"Project",params:{id:s.project.id}})}}}},Fa=["title"],Va={class:"col-4"},Ua={class:"col-4"},za=["src"],Ha={class:"col-4 fw-bold"};function Wa(s,e,a,t,r,i){return l(),d("div",{class:"row mb-4 selectable align-items-center border-bottom py-2 no-select",onClick:e[0]||(e[0]=n=>t.openProject()),title:"open "+a.project.name},[o("div",Va,[o("h4",null,v(a.project.name),1)]),o("div",Ua,[o("img",{src:a.project.creator.picture,class:"img-clamp",alt:"profile picture"},null,8,za)]),o("div",Ha,v(a.project.createdAt.substring(0,10)),1)],8,Fa)}var Ka=f(Ba,[["render",Wa],["__scopeId","data-v-4887063a"]]),Ya=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ka});const Ga={props:{sprint:{type:Object,required:!0},index:{type:Number,required:!0}},setup(s){const e=p(()=>c.tasks.filter(n=>n.sprintId===s.sprint.id)),a=S(!0),t=$(),r=p(()=>c.activeTask),i=S({});return{newNote:i,activeTask:r,collapsed:a,tasks:e,editing:p(()=>c.editingTask),activeNotes:p(()=>c.notes.filter(n=>{var u;return n.taskId===((u=r.value)==null?void 0:u.id)})),accountId:p(()=>c.account.id),projectCreatorId:p(()=>c.activeProject.creatorId),tasksWeightRemaining:p(()=>{let n=0;return e.value.filter(u=>!u.isComplete).forEach(u=>n+=u.weight),n}),tasksWeight:p(()=>{let n=0;return e.value.forEach(u=>n+=u.weight),n}),tasksComplete:p(()=>e.value.filter(n=>n.isComplete===!0).length),toggleCollapse(){a.value=!a.value},addTask(){R.getOrCreateInstance(document.getElementById("create-task-modal"+s.sprint.id)).show()},async deleteSprint(){try{await m.confirm()&&(await ce.deleteSprint(s.sprint.id,t.params.id),m.toast("Sprint deleted","success"))}catch(n){_.error(n),m.toast(n.message,"error")}},async addNote(){try{i.value.projectId=t.params.id,i.value.taskId=r==null?void 0:r.value.id,_.log(),await me.addNote(i.value),m.toast("Note created!","success"),i.value={}}catch(n){_.error(n),m.toast(n.message,"error")}},startEdit(){c.editingTask=!0},async setTaskStatus(n){try{const u={id:r.value.id,projectId:t.params.id,isComplete:n};await q.editTask(u)}catch(u){_.error("[Task.vue > toggleTask()]",u.message),m.toast(u.message,"error")}}}}},x=s=>(I("data-v-f6cda03a"),s=s(),P(),s),Ja={class:"row"},Qa={class:"col-12 no-select"},Za=["title"],Xa={class:"d-flex justify-content-between mx-2 mt-2 p-2 border border-dark bg-light"},eo={class:"d-flex align-items-center"},to={class:"me-2 my-0 fs-1"},ao={class:"mx-2 my-0"},oo={class:"text-secondary-gradient ms-2 my-0"},so=x(()=>o("i",{class:"mdi mdi-weight"},null,-1)),no={class:"d-flex align-items-center"},ro={class:"my-0 me-2"},co=["id"],io={key:0,class:"text-center fs-2 fw-bold my-3"},lo={key:1,class:"my-5"},uo={class:"m-0 text-secondary-gradient"},_o=x(()=>o("i",{class:"mdi mdi-delete text-secondary-gradient fs-4 ms-2",title:"delete sprint","aria-label":"delete sprint"},null,-1)),mo=x(()=>o("h2",null,"Add task",-1)),po={class:"d-flex justify-content-between flex-grow-1 ms-4"},vo=x(()=>o("p",null,"Status:",-1)),go={class:"d-flex align-items-center mx-3"},fo=x(()=>o("div",{class:"border-top border-bottom flex-grow-1 not-shown mx-5"},null,-1)),bo={class:"mt-3 flex-column d-flex"},ho=x(()=>o("h5",{class:"align-self-center text-primary-gradient"},"Notes",-1)),yo=x(()=>o("hr",{class:"mx-5"},null,-1)),ko={class:"d-flex flex-column my-3"},wo=x(()=>o("label",{for:"new-note",class:"mb-3"},"Add a Note",-1)),xo={class:"input-group mb-3"},jo=x(()=>o("button",{class:"btn btn-primary",type:"submit",id:"button-addon2"},[o("i",{class:"mdi mdi-chevron-right"})],-1));function To(s,e,a,t,r,i){const n=k("Task"),u=k("CreateTaskForm"),V=k("Modal"),ge=k("TaskForm"),fe=k("Note"),be=k("OffCanvas");return l(),d(O,null,[o("div",Ja,[o("div",Qa,[o("a",{onClick:e[1]||(e[1]=(...b)=>t.toggleCollapse&&t.toggleCollapse(...b)),role:"button",title:"click to toggle "+a.sprint.name},[o("div",Xa,[o("div",eo,[o("p",to,v(a.index+1),1),o("h5",ao,v(a.sprint.name),1),o("h5",oo,[A(v(t.tasksWeightRemaining)+" / "+v(t.tasksWeight)+" ",1),so])]),o("div",no,[h(o("button",{class:"btn btn-outline-primary me-4",onClick:e[0]||(e[0]=C((...b)=>t.addTask&&t.addTask(...b),["stop"])),"aria-label":"add task"}," + Add Task ",512),[[oe,t.projectCreatorId===t.accountId]]),o("h5",ro,v(t.tasksComplete)+"/"+v(t.tasks.length)+" Tasks Complete ",1)])])],8,Za),o("div",{id:"sprint-"+a.sprint.id,class:D(["showable ps-2 mx-2 mb-2 border border-dark bg-secondary border-top-0 position-relative",{"not-shown":t.collapsed,"p-2":!t.collapsed}])},[t.tasks.length>0?E("",!0):(l(),d("div",io," No tasks yet. ")),(l(!0),d(O,null,W(t.tasks,b=>(l(),K(n,{key:b.id,task:b},null,8,["task"]))),128)),t.projectCreatorId===t.accountId?(l(),d("div",lo)):E("",!0),t.projectCreatorId===t.accountId?(l(),d("div",{key:2,class:"d-flex sprint-delete-button action align-items-center",onClick:e[2]||(e[2]=(...b)=>t.deleteSprint&&t.deleteSprint(...b))},[o("p",uo,"Delete "+v(a.sprint.name),1),_o])):E("",!0)],10,co)])]),T(V,{id:"create-task-modal"+a.sprint.id},{"modal-header-slot":N(()=>[mo]),"modal-body-slot":N(()=>[T(u,{sprintId:a.sprint.id},null,8,["sprintId"])]),_:1},8,["id"]),T(be,{class:"offcanvas-end",id:"task-offcanvas"},{"offcanvas-header-slot":N(()=>{var b;return[o("div",po,[o("h4",null,v((b=t.activeTask)==null?void 0:b.name),1),!t.editing&&t.projectCreatorId===t.accountId?(l(),d("i",{key:0,class:"mdi mdi-pencil action",onClick:e[3]||(e[3]=(...L)=>t.startEdit&&t.startEdit(...L)),"aria-label":"edit task",title:"edit task"})):E("",!0)])]}),"offcanvas-body-slot":N(()=>{var b,L,Q,Z;return[t.activeTask&&t.editing?(l(),K(ge,{key:0})):E("",!0),o("div",null,[vo,o("div",go,[o("button",{class:D(["btn rounded-pill px-4 fw-bold",{"btn-primary":!((b=t.activeTask)==null?void 0:b.isComplete),"btn-outline-primary":(L=t.activeTask)==null?void 0:L.isComplete}]),onClick:e[4]||(e[4]=j=>t.setTaskStatus(!1))}," Pending ",2),fo,o("button",{class:D(["btn rounded-pill px-4 fw-bold",{"btn-success":(Q=t.activeTask)==null?void 0:Q.isComplete,"btn-outline-success":!((Z=t.activeTask)==null?void 0:Z.isComplete)}]),onClick:e[5]||(e[5]=j=>t.setTaskStatus(!0))}," Done ",2)])]),o("div",bo,[ho,yo,o("div",null,[o("form",{onSubmit:e[7]||(e[7]=C((...j)=>t.addNote&&t.addNote(...j),["prevent"]))},[o("div",ko,[wo,o("div",xo,[h(o("input",{type:"text",placeholder:"Say Something...",name:"new-note",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=j=>t.newNote.body=j)},null,512),[[w,t.newNote.body]]),jo])])],32),(l(!0),d(O,null,W(t.activeNotes,j=>(l(),K(fe,{key:j.id,note:j},null,8,["note"]))),128))])])]}),_:1})],64)}var So=f(Ga,[["render",To],["__scopeId","data-v-f6cda03a"]]),Co=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:So});const Io={props:{task:{type:Object,required:!0}},setup(s){const e=$(),a=p(()=>c.notes.filter(t=>t.taskId===s.task.id));return{notes:a,notesCount:p(()=>a.value.length),accountId:p(()=>c.account.id),projectCreatorId:p(()=>c.activeProject.creatorId),async toggleTask(){try{await q.toggleTask(s.task.id,e.params.id,{isComplete:!s.task.isComplete})}catch(t){_.error("[Task.vue > toggleTask()]",t.message),m.toast(t.message,"error")}},async deleteTask(){try{await m.confirm()&&(await q.deleteTask(s.task.id,e.params.id),m.toast("Task deleted","success"))}catch(t){_.error("[Task.vue > deleteTask()]",t.message),m.toast(t.message,"error")}},openOffCanvas(){c.activeTask=s.task,Ie.getOrCreateInstance(document.getElementById("task-offcanvas")).show()}}}},pe=s=>(I("data-v-7c2015c6"),s=s(),P(),s),Po={class:"d-flex"},Eo=["title"],No={class:"d-flex align-items-center"},Oo={class:"my-0 px-3 py-1 rounded-pill bg-danger"},$o=["title"],Ao={class:"d-flex flex-column"},Do={class:"text-primary mt-3 border-dark border-start pb-4 ps-2 position-relative fs-5"},Mo={class:"task-details ms-3"},qo=pe(()=>o("i",{class:"mdi mdi-comment action",title:"open detailed view","aria-label":"open task details",role:"button"},null,-1)),Lo=pe(()=>o("i",{class:"mdi mdi-weight"},null,-1));function Ro(s,e,a,t,r,i){const n=k("Modal");return l(),d(O,null,[o("div",{class:D(["component my-2 py-2 ms-5 no-select",{completed:a.task.isComplete}])},[o("div",Po,[o("i",{class:D(["pe-1 fs-3 mdi",{"mdi-checkbox-outline":a.task.isComplete,"mdi-checkbox-blank-outline":!a.task.isComplete,action:t.projectCreatorId===t.accountId}]),title:t.projectCreatorId===t.accountId?"click to toggle":"",onClick:e[0]||(e[0]=(...u)=>t.toggleTask&&t.toggleTask(...u)),role:"button","aria-label":"toggle task"},null,10,Eo),o("div",No,[o("p",Oo,v(a.task.name),1)]),h(o("i",{class:"ps-1 action fs-3 text-grey mdi mdi-delete",title:"delete "+a.task.name,onClick:e[1]||(e[1]=(...u)=>t.deleteTask&&t.deleteTask(...u)),"aria-label":"delete task",role:"button"},null,8,$o),[[oe,t.projectCreatorId===t.accountId]])]),o("div",Ao,[o("div",Do,[o("div",Mo,[o("span",{class:"pe-4",onClick:e[2]||(e[2]=(...u)=>t.openOffCanvas&&t.openOffCanvas(...u))},[A(v(t.notesCount),1),qo]),o("span",null,[A(v(a.task.weight),1),Lo])])])])],2),T(n,{id:"create-task-modal"},{"modal-header-slot":N(()=>[]),"modal-body-slot":N(()=>[]),_:1})],64)}var Bo=f(Io,[["render",Ro],["__scopeId","data-v-7c2015c6"]]),Fo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bo});const Vo={setup(){const s=p(()=>c.activeTask),e=S({});p(()=>c.editingTask);const a=$(),t=()=>{c.editingTask=!1};return ae(()=>{e.value=U({},s.value)}),{edit:e,activeTask:s,sprints:p(()=>c.sprints),stopEditing:t,async editTask(){try{e.value.projectId=a.params.id,await q.editTask(e.value),this.stopEditing(),m.toast("Task edited","success")}catch(r){_.error("[TaskForm.vue > editTask()]",r.message),m.toast(r.message,"error")}}}}},Uo={class:"d-flex flex-column"},zo=o("label",{for:"task-name"},"Name",-1),Ho={class:"d-flex mt-3 w-100"},Wo=o("label",{for:"task-weight"},"Weight",-1),Ko={class:"w-100"},Yo=o("label",{for:"task-sprint"},"Sprint",-1),Go=["value","selected"],Jo={class:"d-flex mt-4 align-self-end"},Qo=o("button",{class:"btn btn-primary ms-5",type:"submit"},"Save",-1);function Zo(s,e,a,t,r,i){return l(),d("form",{class:"d-flex flex-column",onSubmit:e[4]||(e[4]=C((...n)=>t.editTask&&t.editTask(...n),["prevent"]))},[o("div",Uo,[zo,h(o("input",{type:"text",name:"task-name",class:"",placeholder:"Task Name","onUpdate:modelValue":e[0]||(e[0]=n=>t.edit.name=n),"aria-label":"name"},null,512),[[w,t.edit.name]])]),o("div",Ho,[o("div",null,[Wo,h(o("input",{type:"number",name:"task-name",min:"0","onUpdate:modelValue":e[1]||(e[1]=n=>t.edit.weight=n),"aria-label":"weight"},null,512),[[w,t.edit.weight]])]),o("div",Ko,[Yo,h(o("select",{name:"task-sprint","onUpdate:modelValue":e[2]||(e[2]=n=>t.edit.sprintId=n),"aria-label":"select sprint"},[(l(!0),d(O,null,W(t.sprints,n=>(l(),d("option",{key:n.id,value:n.id,selected:n.id===t.activeTask.sprintId},v(n.name),9,Go))),128))],512),[[Pe,t.edit.sprintId]])])]),o("div",Jo,[o("button",{class:"btn text-dark lighten-30",type:"button",onClick:e[3]||(e[3]=(...n)=>t.stopEditing&&t.stopEditing(...n))}," Cancel "),Qo])],32)}var Xo=f(Vo,[["render",Zo]]),es=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xo});function ts(s){Object.entries({"./components/CreateProjectForm.vue":Ke,"./components/CreateSprintForm.vue":tt,"./components/CreateTaskForm.vue":dt,"./components/EditAccountForm.vue":kt,"./components/Loading.vue":It,"./components/Login.vue":Qt,"./components/Modal.vue":ca,"./components/Navbar.vue":ga,"./components/Note.vue":Sa,"./components/OffCanvas.vue":Aa,"./components/ProjectOffcanvasDetails.vue":Ra,"./components/ProjectOverview.vue":Ya,"./components/Sprint.vue":Co,"./components/Task.vue":Fo,"./components/TaskForm.vue":es}).forEach(([a,t])=>{const r=t.name||a.substr(a.lastIndexOf("/")+1).replace(/\.\w+$/,"");s.component(r,t.default)})}const ve=Ee(De);ts(ve);ve.use(ue).mount("#app");export{c as A,ra as M,m as P,So as S,f as _,_ as l,me as n,re as p,ce as s,q as t};
